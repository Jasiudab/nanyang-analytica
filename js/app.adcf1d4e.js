(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)i=o[d],s[i]&&f.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/nanyang-analytica/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"052d":function(t,e,a){"use strict";var n=a("642f"),s=a.n(n);s.a},1:function(t,e){},2:function(t,e){},2445:function(t,e,a){var n=a("795b"),s=a("24f8");function r(t){return new n(function(e,a){var n=s.get(t,function(t){if(t.statusCode<200||t.statusCode>=300)return a(new Error("statusCode="+t.statusCode));t.setEncoding("utf8");var n="";t.on("data",function(t){n+=t}),t.on("end",function(){try{n=JSON.parse(n.slice(21,n.length-2))}catch(t){a(t)}e(n)})});n.on("error",function(t){a(t)}),n.end()})}t.exports=r},"2dae":function(t,e,a){"use strict";var n=a("dc9f"),s=a.n(n);s.a},3:function(t,e){},"3a59":function(t,e,a){"use strict";var n=a("bcf2"),s=a.n(n);s.a},4:function(t,e){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="4678"},5:function(t,e){},"53bb":function(t,e,a){var n=a("795b"),s={},r={fetch:function(t){return new n(function(e,a){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=t,r.addEventListener("load",function(){e(s)}),n.appendChild(r)})},callback:function(t){s=t}};t.exports=r},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{mobile:t.mobile},attrs:{id:"app"}},[n("link",{attrs:{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.2.0/css/all.css",integrity:"sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ",crossorigin:"anonymous"}}),n("div",{staticClass:"top",attrs:{id:"top"}}),n("sidebar",{attrs:{isOpen:t.sidebarOpen,query:t.searchQuery,loadDynamic:t.loadData,dataFields:t.dataConfig,set:t.setSidebarOpen,load:t.searchForTweets,mobile:t.mobile,update:t.updatePreloaded}}),n("img",{staticClass:"logo-lion",attrs:{src:a("9279"),alt:""}}),n("main",{class:{squizzer:!t.sidebarOpen},attrs:{id:"page-wrap"}},[n("div",{staticClass:"container mt-4"},[n("search-bar",{class:{"d-none":t.sidebarOpen},attrs:{query:t.searchQuery,load:t.searchForTweets}}),t.pending?n("div",[n("loader",{staticClass:"whole-page",attrs:{loading:t.pending,text:t.loadingText}})],1):n("div",[n("search-summary",{attrs:{loadPage:t.loadPage,stats:t.info,sort:t.sortBy,text:t.pageText}}),t.displayedTwitts.length>0?n("tweet-grid",{attrs:{tweets:t.displayedTwitts,loadPage:t.loadPage,stats:t.stats,open:t.sidebarOpen,page:t.page,mobile:t.mobile}}):t._e()],1)],1)])],1)},r=[],i=a("795b"),o=a.n(i),l=(a("96cf"),a("3b8d")),c=(a("7f7f"),a("59ad")),u=a.n(c),d=(a("ac6a"),a("6762"),a("e814")),f=a.n(d),h=(a("55dd"),a("386d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ScaleRotate",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],attrs:{disableOutsideClick:"",noOverlay:"",width:"320",isOpen:t.isOpen},on:{openMenu:function(e){return t.set(!0)},closeMenu:t.close}},[n("div",{staticClass:"flex brand"},[n("img",{attrs:{height:"100px",src:a("d939"),alt:""}}),n("span",{staticClass:"align-self-center"},[t._v("\n            Nanyang\n            Analytica\n        ")])]),t.isOpen?n("div",{staticClass:"row px-4"},[n("div",{staticClass:"col-12"},[n("h5",{staticClass:"text-uppercase"},[t._v("Search")]),n("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{html:"tooltipContent",visible:!t.mobile},expression:"{ html: 'tooltipContent', visible: !mobile }",modifiers:{right:!0}}],staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:t.query.search},on:{input:function(e){e.target.composing||t.$set(t.query,"search",e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"d-none",attrs:{type:"submit"}}),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"btn btn-outline-warning"},[t._v("\n                          More "),n("i",{staticClass:"fas fa-caret-down"})])])])]),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Gender")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.query.gender,expression:"query.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.query,"gender",e.target.multiple?a:a[0])}}},[n("option",[t._v("Male")]),n("option",[t._v("Female")])])]),n("div",{staticClass:"form-group mb-4"},[n("label",{attrs:{for:"customRange1"}},[t._v("Age: "+t._s(t.query.age[0])+" - "+t._s(t.query.age[1]))]),n("vue-slider",{attrs:{marks:!0,data:t.data,lazy:!0,"enable-cross":!1},model:{value:t.query.age,callback:function(e){t.$set(t.query,"age",e)},expression:"query.age"}})],1),n("personality-picker",{attrs:{query:t.query}})],1),n("div",{staticClass:"row justify-content-around"},[n("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning my-2",on:{click:t.submit}},[t._v("Search")])])],1),n("h5",{staticClass:"text-uppercase mt-4"},[t._v("data")]),n("div",[n("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.split(e)}}},[n("div",{staticClass:"form-group mt-2"},[n("label",{attrs:{for:""}},[t._v("User Names")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currUserName,expression:"currUserName"},{name:"tooltip",rawName:"v-tooltip.top",value:{content:"Type in any username to load",visible:!t.mobile},expression:"{ content: 'Type in any username to load', visible: !mobile }",modifiers:{top:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usernames"},domProps:{value:t.currUserName},on:{input:function(e){e.target.composing||(t.currUserName=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"d-none",attrs:{type:"submit"}}),n("button",{staticClass:"btn btn-outline-warning",on:{click:t.preload}},[t._v("\n                              Random\n                            ")])])])])]),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{content:"Load our preprocessed, static data",visible:!t.mobile},expression:"{ content: 'Load our preprocessed, static data', visible: !mobile }",modifiers:{right:!0}}],staticClass:"form-group mb-4"},[n("label",{attrs:{for:"customRange1"}},[t._v("Load: "+t._s(t.asdf)+"k")]),n("vue-slider",{attrs:{marks:t.marks,lazy:!0,included:!0},model:{value:t.asdf,callback:function(e){t.asdf=e},expression:"asdf"}})],1),t.dataFields.dynamic.length>0?n("div",{staticClass:"row mb-2",staticStyle:{"max-width":"300px"}},t._l(t.dataFields.dynamic,function(e){return n("div",{key:e,staticClass:"badge badge-warning m-1 badge-name"},[n("span",[t._v("\n                                "+t._s(e)+" ")]),t._v("\n                            | "),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.remove(e)}}},[t._v(" X ")])])}),0):t._e(),n("div",{staticClass:"row justify-content-around"},[t.dataFields.dynamic.length>0&&t.asdf?n("small",{staticClass:"form-text text-muted mt-0 mb-1"},[t._v(" \n                          "+t._s(t.msg.side.load)+"\n                        ")]):t._e(),n("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning my-2",on:{click:t.loadDataMethod}},[t._v("\n                          "+t._s(t.loadText)+"\n                        ")]),t.dataFields.dynamic.length>0?n("button",{staticClass:"btn btn-warning mb-2",on:{click:function(e){t.dataFields.dynamic=[]}}},[t._v("\n                        Clear")]):t._e()])])])]):t._e()])}),p=[],m=(a("28a5"),a("2fdb"),a("db0f")),g=a("e4c5"),v=a.n(g),b=a("4971"),y=a.n(b),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row ",staticStyle:{"margin-top":"40px !important"}},[a("div",{staticClass:"col-10 pt-3 pl-1 pb-3 pr-0"},t._l(t.query.personality,function(e){return a("div",{key:e.name},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7 mb-1 pr-0 pl-4"},[t._v("\n                    "+t._s(e.name)+":\n                ")]),a("div",{staticClass:"col-5 px-0 pl-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7 pr-0"},[t._v("\n                            "+t._s(e.val[0])+" - "+t._s(e.val[1])+"\n                        ")]),a("div",{staticClass:"col-4 px-0 pr-2"},[a("div",{staticClass:"d-inline",on:{click:function(a){t.curr=e.name}}},[a("i",{class:{"far fa-circle":e.name!=t.curr,"far fa-dot-circle":e.name==t.curr}})])])])])])])}),0),a("div",{staticClass:"col-2 px-0"},[a("vue-slider",{staticStyle:{},attrs:{"tooltip-placement":"right",marks:t.marks,lazy:!0,"enable-cross":!1,direction:"btt",height:150},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],1)])},j=[],C=(a("20d6"),a("7514"),{components:{VueSlider:y.a},data:function(){return{curr:"Conscientiousness",marks:[0,50,100],loadText:"Load"}},props:{query:{type:Object,required:!0}},computed:{values:{get:function(){var t=this;return this.query.personality.find(function(e){return e.name==t.curr}).val},set:function(t){var e=this,a=this.query.personality.findIndex(function(t){return t.name==e.curr});this.query.personality[a].val=t}}}}),x=C,k=(a("052d"),a("2877")),_=Object(k["a"])(x,w,j,!1,null,null,null),O=_.exports,S=["katyperry","BarackObama","justinbieber","taylorswift13","ladygaga","TheEllenShow","jtimberlake","ArianaGrande","KimKardashian","realDonaldTrump","selenagomez","britneyspears","jimmyfallon","BillGates","JLo","nytimes","BrunoMars","KingJames","Oprah","MileyCyrus","KevinHart4real","LilTunechi","wizkhalifa","Pink","aliciakeys","chrisbrown","kanyewest","ConanOBrien","KendallJenner","ActuallyNPH","KylieJenner","khloekardashian","pitbull","danieltosh","POTUS","elonmusk","HillaryClinton","kourtneykardash","Eminem","MariahCarey","blakeshelton","NICKIMINAJ","LeoDiCaprio","StephenAtHome","JimCarrey","aplusk","SnoopDogg","KDTrey5","ParisHilton","xtina","camerondallas","RyanSeacrest","ZacEfron","tomhanks","Diddy","POTUS44","Beyonce","Zendaya","SHAQ","maroon5","tyrabanks","BigSean","SethMacFarlane","kobebryant","nickjonas","TreySongz","funnyordie","TheRock","StephenCurry30","VancityReynolds","neiltyson","ashleytisdale","iamwill","stephenfry","RobertDowneyJr","SarahKSilverman","johnlegend","JColeNC","Usher","MichelleObama","kelly_clarkson","markiplier","mindykaling","FLOTUS","kendricklamar","Ludacris","JohnCena","jimmykimmel","charliesheen","MarcAnthony","tim_cook","ciara","BillClinton","billmaher","chrissyteigen","serenawilliams","azizansari","Pharrell","ChrisEvans","VictoriaJustice","halsey","50cent"],T={hello:"Hello! 🤗 To search Twitter type in a keyword or go to options",error:"Oh no 🥵 We couldn't find anything that matches your query",search:"Oi 🤨 We need something to search for",load:{work:"We're working on it...",search:"Warming up the search engine...",ai:"Waking up the AI 🤖...",scrape:""},side:{load:"Loading both static and dynamic fields will take a while as we need to reindex it after"}},M=T,q=a("a596"),P=a.n(q),E={components:{ScaleRotate:m["ScaleRotate"],VueSlider:y.a,PersonalityPicker:O,BCollapse:v.a},directives:{"b-toggle":P.a},data:function(){return{msg:M,asdf:10,currUserName:"",marks:[0,10,50,100],data:[18,25,34,100],loadText:"Load"}},methods:{loadDataMethod:function(){this.update(this.asdf),this.dataFields.static=this.asdf,this.loadText="Reload",this.loadDynamic()},submit:function(){this.set(!1),this.load()},preload:function(){var t=this,e=S.filter(function(e){return!t.dataFields.dynamic.includes(e)&&e.length>0}).sort(function(){return Math.random()-.5}).slice(0,10);this.dataFields.dynamic=this.dataFields.dynamic.concat(e)},remove:function(t){this.dataFields.dynamic=this.dataFields.dynamic.filter(function(e){return e!=t})},close:function(){this.set(!1)},split:function(){this.currUserName&&this.dataFields.dynamic.push(this.currUserName),this.currUserName=""}},watch:{currUserName:function(t){var e=t.split(" ");e.length>1&&(this.dataFields.dynamic=this.dataFields.dynamic.concat(e.filter(function(t){return t.length>0})),this.currUserName="")}},props:{isOpen:{type:Boolean,required:!0},query:{type:Object,required:!0},set:{type:Function,required:!0},load:{type:Function,required:!0},dataFields:{type:Object,required:!0},loadDynamic:{type:Function,required:!0},mobile:{type:Boolean,required:!0},update:{type:Function,required:!0}}},z=E,F=(a("2dae"),Object(k["a"])(z,h,p,!1,null,null,null)),D=F.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"text-center row"},[t.stats.count>0?a("div",{staticClass:"col-12 col-md-6 mb-2"},[a("Stats",{attrs:{stats:t.stats}})],1):t._e(),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row p-0"},t._l(t.tweets.slice(0,2),function(e){return a("div",{key:e.id,staticClass:"col-12 mb-2",class:{"col-6":t.open}},[a("tweet-item",{attrs:{tweet:e,sidebarOpen:t.open,mobile:t.mobile}})],1)}),0)]),t._l(t.tweets.slice(2,8),function(e){return a("div",{key:e.id,staticClass:"col-lg-6 mb-2",class:{"col-6":t.open}},[a("tweet-item",{attrs:{tweet:e,sidebarOpen:t.open,mobile:t.mobile}})],1)}),t.tweets.length<5?a("div",{staticClass:"screen-pusher"}):t._e(),a("nav",{staticClass:"col-12 d-flex justify-content-center",attrs:{"aria-label":"Page navigation example"}},[a("ul",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"pagination text-center",staticStyle:{cursor:"pointer"}},t._l(t.noOfPages,function(e){return a("li",{key:e,staticClass:"page-item"},[a("a",{staticClass:"page-link",on:{click:function(a){return t.loadPage(e)}}},[t._v(t._s(e))])])}),0)])],2)])},B=[],A=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card hoverable fancy-tweet",on:{mouseenter:function(e){return t.toggleCollapse(t.tweet.id)},mouseleave:function(e){return t.toggleCollapse(t.tweet.id)}}},[a("div",{staticClass:"row m-4"},[a("div",{staticClass:"col-sm-4 p-2",class:{"col-sm-12 my-4":t.sidebarOpen}},[a("div",[a("img",{staticClass:"card-img-top",attrs:{src:t.tweet.user.photo,alt:"Card image cap"}})]),a("h5",{staticClass:"card-title mt-2 mb-0",domProps:{innerHTML:t._s(t.tweet.name)}}),a("small",{staticClass:"text-muted mt-0 mb-1"},[t._v(t._s(t.tweet.user.username)+" "),a("br"),t._v(" "+t._s(t.getHumanDate(t.tweet.time)))])]),t.sidebarOpen?t._e():a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text",domProps:{innerHTML:t._s(t.tweet.body)}})])])]),a("b-collapse",{attrs:{id:t.tweet.id,visible:t.mobile}},[a("div",{staticClass:"card-footer text-muted row mx-0"},[a("div",{staticClass:"mt-2 col-4"},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleModal(t.tweet.id+t.tweet.user.username)}}},[a("div",[a("i",{staticClass:"fas fa-user-circle"}),a("br"),t._v("\n                        Profile\n                    ")])])]),a("div",{staticClass:"mt-2 col-4"},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleModal(t.tweet.id)}}},[a("div",[a("i",{staticClass:"fas fa-info-circle"}),a("br"),t._v("\n                        Tweet\n                    ")])])]),a("div",{staticClass:"mt-2 col-4"},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleModal("asdf")}}},[a("a",{attrs:{href:t.tweet.link,rel:"noopener noreferrer",target:"_blank"}},[a("i",{staticClass:"fas fa-play-circle"}),a("br"),t._v("\n                        Link\n                    ")])])])])]),a("tweet-modal",{attrs:{tweet:t.tweet}}),a("user-modal",{attrs:{tweet:t.tweet}})],1)}),R=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{size:"lg",id:t.tweet.id+t.user.username}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"mb-2"},[a("img",{staticClass:"card-img-top",attrs:{src:t.user.photo,alt:"Card image cap"}})]),t._v("\n            "+t._s(t.user.name)+"\n        ")]),a("div",{staticClass:"col-7"},[t._v("\n            "+t._s(t.user.age)+" "+t._s(t.user.gender)+" "),a("br"),a("small",{staticClass:"mt-2"},[a("strong",[t._v("Personality")])]),t._l(t.personality,function(e){return a("div",{key:e.type+t.tweet.id},[t._v("\n                "+t._s(e.type)+": "+t._s(e.val)+"\n            ")])})],2)])])},W=[],U=a("cebc"),$=a("3a5b"),H=a.n($),Q={components:{BModal:H.a},props:{tweet:{type:Object,required:!0}},computed:{user:function(){var t={};return 0==this.tweet.user.age&&(t.age="Young"),1==this.tweet.user.age&&(t.age="Adult"),2==this.tweet.user.age&&(t.age="Senior"),t.gender=0==this.tweet.user.gender?"Man":"Woman",Object(U["a"])({},this.tweet.user,{age:t.age,gender:t.gender})},personality:function(){var t=this.user.personality,e=[];for(var a in t)e.push({type:a,val:Math.floor(100*t[a])});return e}}},J=Q,I=Object(k["a"])(J,L,W,!1,null,null,null),G=I.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{size:"lg",id:t.tweet.id}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-2"},[a("p",{staticClass:"card-text",domProps:{innerHTML:t._s(t.tweet.body)}})]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4  mb-2"},[a("small",[a("strong",[t._v("Gender")])]),t._l(t.gender,function(e){return a("div",{key:e.type+t.tweet.id},[t._v("\n                        "+t._s(e.type)+": "+t._s(e.val)+"\n                    ")])})],2),a("div",{staticClass:"col-md-4  mb-2"},[a("small",[a("strong",[t._v("Age")])]),t._l(t.age,function(e){return a("div",{key:e.type+t.tweet.id},[t._v("\n                        "+t._s(e.type)+": "+t._s(e.val)+"\n                    ")])})],2),a("div",{staticClass:"col-md-4  mb-2"},[a("small",[a("strong",[t._v("Personality")])]),t._l(t.personality,function(e){return a("div",{key:e.type+t.tweet.id},[t._v("\n                        "+t._s(e.type)+": "+t._s(e.val)+"\n                    ")])})],2)])])])])},V=[],X={components:{BModal:H.a},props:{tweet:{type:Object,required:!0}},computed:{gender:function(){var t=this.tweet.gender,e={};e.male=t,e.female=Math.floor(40*Math.random()+30);var a=[];for(var n in e)a.push({type:n,val:e[n]});return a},age:function(){var t=this.tweet.age,e=[];for(var a in t)e.push({type:a,val:t[a]});return e},personality:function(){var t=this.tweet.personality,e=[];for(var a in t)e.push({type:a,val:t[a]});return e}}},Y=X,Z=Object(k["a"])(Y,K,V,!1,null,null,null),tt=Z.exports,et={components:{BCollapse:v.a,TweetModal:tt,UserModal:G},props:{tweet:{type:Object,required:!0},sidebarOpen:{type:Boolean,required:!0},mobile:{type:Boolean,required:!0}},methods:{getHumanDate:function(t){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=new Date(t);return a.toDateString(e)},toggleCollapse:function(t){this.$root.$emit("bv::toggle::collapse",t)},toggleModal:function(t){this.$root.$emit("bv::toggle::modal",t)}}},at=et,nt=Object(k["a"])(at,A,R,!1,null,null,null),st=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card p-3"},[a("h5",{staticClass:"font-weight-bold"},[t._v("Search Statistics")]),t.stats?a("div",[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-lg-4 pr-0 mb-4",staticStyle:{}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 mb-2"},[a("small",[t._v("This search term is mainly mentioned by people that are "),a("strong",[t._v(t._s(t.short.gender))]),t._v("  and "),a("strong",[t._v(" "+t._s(t.short.age))]),t._v(",\n                      higher on "),a("strong",[t._v(t._s(t.diff.sort(function(t,e){return e.val-t.val})[0].name))]),t._v(" and lower on "),a("strong",[t._v(t._s(t.diff.sort(function(t,e){return t.val-e.val})[0].name))])])]),a("small",[t._v("Summary: ")]),t._l(t.diff,function(e){return a("div",{key:e.name,staticClass:"col-4 col-md-12"},[a("small",[a("i",{class:t.getClass(e.val)}),t._v(" \n                        "+t._s(e.val)+"% "+t._s(e.name)),a("br")])])})],2)]),a("div",{staticClass:"col-lg-8 pl-0"},[a("radar-chart",{attrs:{data:t.personalityData,options:t.bigOptions,styles:t.bigStyle}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("pie-chart",{attrs:{data:t.genderData,options:t.smallOptions,styles:t.smallStyle,title:"Gender"}})],1),a("div",{staticClass:"col-6"},[a("pie-chart",{attrs:{data:t.ageData,options:t.smallOptions,styles:t.smallStyle,title:"Age"}})],1)])]):a("div",[t._v("\n      Cracking up the numbers...\n    ")])])},it=[],ot=a("1fca"),lt={extends:ot["b"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){console.log("renders!"),this.renderChart(this.data,this.options)}},ct={extends:ot["a"],props:{data:{type:Object,default:null},options:{type:Object,default:null},title:{type:String,default:null}},mounted:function(){this.options.title.text=this.title,this.renderChart(this.data,this.options)}},ut={components:{RadarChart:lt,PieChart:ct},data:function(){return{smallStyle:{maxHeight:"150px",position:"relative"},bigStyle:{maxHeight:"300px",maxWidth:"320px",position:"relative"},windowWidth:window.innerWidth}},props:{stats:{type:Object,required:!1}},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("resize",function(){t.windowWidth=window.innerWidth})})},computed:{short:function(){if(this.stats.search){var t={};t.gender=this.stats.search.gender.male>=this.stats.search.gender.female?"man":"woman";var e=[];for(var a in this.stats.search.age)e.push({name:a,val:this.stats.search.age[a]});return t.age=e.sort(function(t,e){return e.val-t.val})[0].name,t}},diff:function(){if(this.stats.search){var t=this.stats.search.personality,e=this.stats.average.searchPersonality;return[{name:"Conscientiousness",val:t.conscientiousness-e.conscientiousness},{name:"Neuroticism",val:t.neuroticism-e.neuroticism},{name:"Extraversion",val:t.extraversion-e.extraversion},{name:"Agreeableness",val:t.agreeableness-e.agreeableness},{name:"Openess",val:t.openess-e.openess}]}},mobile:function(){return this.windowWidth<800},genderData:function(){var t=[];if(this.stats.search){for(var e in this.stats.search.gender)t.push(this.stats.search.gender[e]);var a={labels:["Man","Woman"],datasets:[{backgroundColor:["#DD1B16","#28a745"],data:t}]};return a}},ageData:function(){var t=[];if(this.stats.search){for(var e in this.stats.search.age)t.push(this.stats.search.age[e]);var a={labels:["Young","Adult","Senior"],datasets:[{backgroundColor:["#007bff","#DD1B16","#ffc107"],data:t}]};return a}},personalityData:function(){var t=[],e=[];if(this.stats.search){for(var a in this.stats.search.personality)"neuroticism"==a?(t.push(100-this.stats.search.personality[a]),e.push(100-this.stats.average.searchPersonality[a])):(t.push(this.stats.search.personality[a]),e.push(this.stats.average.searchPersonality[a]));var n={labels:["Conscientiousness","Neuroticism","Extraversion","Agreeableness","Openess"],datasets:[{label:"Search",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgb(255, 10, 122)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",data:t},{label:"Average",backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgb(23, 162, 184)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",data:e}]};return n}},smallOptions:function(){var t={legend:{position:"right",labels:{boxWidth:30,fontSize:12}},responsive:!0,maintainAspectRatio:!1,title:{display:!0,padding:2}};return this.mobile&&(t.legend.position="top",t.legend.labels.boxWidth=10,t.legend.labels.fontSize=10),t},bigOptions:function(){var t={legend:{position:"top"},responsive:!0,maintainAspectRatio:!1,title:{display:!0,position:"top",padding:2,text:"Personality"}};return t}},methods:{getClass:function(t){return t>0?"fas fa-chevron-circle-up":0==t?"fas fa-minus-circle":t<0?"fas fa-chevron-circle-down":void 0}}},dt=ut,ft=(a("3a59"),Object(k["a"])(dt,rt,it,!1,null,null,null)),ht=ft.exports,pt={name:"TweetGrid",components:{Stats:ht,TweetItem:st},props:{page:{type:Number,required:!0},tweets:{type:Array,required:!0},stats:{type:Object,required:!0},loadPage:{type:Function,required:!0},open:{type:Boolean,required:!0},mobile:{type:Boolean,required:!0}},computed:{noOfPages:function(){var t=0;return this.stats.count&&(t=Math.ceil(this.stats.count/8)),t>10&&(t=10),t}}},mt=pt,gt=(a("763a"),Object(k["a"])(mt,N,B,!1,null,null,null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0===t.stats.count?a("div",{staticClass:"whole-page"},[a("div",{staticClass:"mx-auto text-center",staticStyle:{width:"250px","margin-top":"20vh"}},[a("span",[t._v("\n            "+t._s(t.text)+"\n        ")]),a("br"),a("br")])]):a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("div",{staticClass:"mt-2"},[t.stats.count>0?a("p",{staticClass:"font-weight-bold"},[t._v("Found "+t._s(t.stats.count)+" results in "+t._s(t.stats.time)+" Miliseconds")]):t._e()]),a("div",{staticClass:"mb-2"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-warning dropdown-toggle mx-auto",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                Sort by\n            ")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("match"),t.loadPage(1)}}},[t._v("Best Match")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("lengthDsc"),t.loadPage(1)}}},[t._v("Long to Short")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("lengthAsc"),t.loadPage(1)}}},[t._v("Short to Long")])])])])])},yt=[],wt={props:{stats:{type:Object,required:!0},sort:{type:Function,required:!0},loadPage:{type:Function,required:!0},text:{type:String,required:!0}}},jt=wt,Ct=Object(k["a"])(jt,bt,yt,!1,null,null,null),xt=Ct.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{height:"80px"}},[a("div",{staticClass:"col"},[a("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.load(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:t.query.search},on:{input:[function(e){e.target.composing||t.$set(t.query,"search",e.target.value)},t.load],focus:function(e){t.show=!0},blur:function(e){t.show=!1}}}),t.show?a("small",{staticClass:"form-text text-muted mt-0 mb-1"},[t._v("Avaiable fields are: name, body.\n        For tips on use go to "),t._m(0)]):t._e()]),Object.keys(t.filteredQuery).length>0?a("div",{staticClass:"mb-4"},t._l(Object.keys(t.filteredQuery),function(e){return a("span",{key:e,staticClass:"badge badge-warning mx-2"},[t._v("\n                  "+t._s(e)+": "+t._s(t.filteredQuery[e])+" | \n                      "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.reset(e)}}},[t._v(" X ")])])}),0):t._e()])])},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://lunrjs.com/guides/searching.html#wildcards"}},[a("strong",[t._v("Lunr")])])}],Ot=a("a4bb"),St=a.n(Ot),Tt={name:"searchBar",data:function(){return{show:!1}},props:{query:{type:Object,required:!0},load:{type:Function,required:!0}},computed:{filteredQuery:function(){var t=this,e={};return St()(this.query).forEach(function(a){"personality"==a?t.query[a].forEach(function(t){0===t.val[0]&&100===t.val[1]||(e[t.name]=t.val)}):t.query[a]&&(e[a]=t.query[a])}),0===this.query.age[0]&&100===this.query.age[1]&&delete e.age,e},mobile:function(){return this.windowWidth<800}},methods:{reset:function(t){"age"===t?this.query.age=[0,100]:this.query[t]="",this.load()}}},Mt=Tt,qt=Object(k["a"])(Mt,kt,_t,!1,null,null,null),Pt=qt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center mx-auto",staticStyle:{width:"200px","margin-top":"20vh"}},[a("div",[a("pacman-loader",{staticClass:"ml-3",attrs:{loading:t.loading,color:"#ffc107",size:"30px"}}),a("p",{staticClass:"mt-2 text-center",domProps:{innerHTML:t._s(t.text)}})],1)])},zt=[],Ft=a("6746"),Dt={name:"loader",components:{PacmanLoader:Ft["a"]},props:{loading:{type:Boolean,required:!0},text:{type:String,required:!0}}},Nt=Dt,Bt=Object(k["a"])(Nt,Et,zt,!1,null,null,null),At=Bt.exports,Rt=(a("6b54"),a("b54a"),a("d225")),Lt=a("b0b4"),Wt=a("bd86"),Ut=a("2f21"),$t=a.n(Ut),Ht=a("9669"),Qt=a.n(Ht);function Jt(t){return new o.a(function(e){fetch(t).then(function(t){return t.json()}).then(function(t){e(t)})})}var It="https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/",Gt="search/index",Kt="search/store",Vt={small:".10000.json",medium:".50000.json",large:".100000.json"},Xt=!0,Yt=Xt,Zt=function(){function t(){Object(Rt["a"])(this,t),Object(Wt["a"])(this,"s",void 0)}return Object(Lt["a"])(t,null,[{key:"init",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=Yt?"search engine init":"search engine not active",console.log(e),Yt){t.next=4;break}return t.abrupt("return");case 4:return console.log("loading indexing..."),t.next=7,Jt(It+Gt+Vt.small);case 7:return a=t.sent,this.idx=$t.a.Index.load(a),console.log("loading store..."),t.next=12,Jt(It+Kt+Vt.small);case 12:n=t.sent,this.store=n,this.average=n.stats,console.log("search engine loaded");case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"search",value:function(t){var e=this,a={twitts:[],time:""},n=new Date;this.idx.search(t).forEach(function(t){var n=t.matchData;a.twitts.push(Object(U["a"])({},e.store[t.ref],{id:t.ref,positions:n,score:t.score}))});var s=new Date-n;return a.time=s,a.average=this.average,console.log("Found "+a.twitts.length+" results in "+s+" Miliseconds"),a}},{key:"load",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n,s,r,i,l,c,u,d,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a={},!e.preloaded){t.next=31;break}return e.preloaded=te(e.preloaded),t.next=5,new o.a(function(t){return setTimeout(t,1e3)});case 5:return console.log("Loading store..."),t.next=8,Jt(It+Kt+Vt[e.preloaded]);case 8:if(n=t.sent,!(e.dynamic.length>0)){t.next=22;break}return console.log("Loading tweets..."),a={profiles:e.dynamic,showRetweets:!1,showEmpty:!1},t.next=14,Qt()(a);case 14:for(i in s=t.sent,r=[],s)r=r.concat(s[i]);for(l in r=r.sort(function(){return Math.random()-.5}),n)"stats"!=l&&(c=n[l],r.push({author:{username:c.user.username,name:c.user.name,link:c.user.link,img:c.user.photo},id:l,time:c.time,link:c.link,body:c.body}));return t.abrupt("return",r);case 22:return console.log("Loading indexing..."),t.next=25,Jt(It+Gt+Vt[e.preloaded]);case 25:return u=t.sent,this.idx=$t.a.Index.load(u),this.store=n,t.abrupt("return",!1);case 29:t.next=39;break;case 31:return a={profiles:e.dynamic,showRetweets:!1,showEmpty:!1},t.next=34,Qt()(a);case 34:for(f in d=t.sent,r=[],d)r=r.concat(d[f]);return r=r.sort(function(){return Math.random()-.5}),t.abrupt("return",r);case 39:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"index",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Indexing ".concat(e.length," tweets")),n={},s=$t()(function(){this.ref("id"),this.field("body"),this.field("name"),this.metadataWhitelist=["position"],e.forEach(function(t){this.add({id:t.id,body:t.body,name:t.author.name});var e=100,a=ee(20,e-60),s=ee(20,e-20-a),r=100-a-s;n[t.id]={username:t.author.username,name:t.author.name,profile:t.author.link,photo:t.author.img,time:t.time,link:t.link,body:t.body,gender:Math.floor(40*Math.random()+30),age:{young:a,adult:s,senior:r},personality:{conscientiousness:Math.floor(35*Math.random()+35),neuroticism:Math.floor(35*Math.random()+35),extraversion:Math.floor(35*Math.random()+35),agreeableness:Math.floor(35*Math.random()+35),openess:Math.floor(35*Math.random()+35)},user:{username:t.author.username,name:t.author.name,profile:t.author.link,photo:t.author.img,gender:Math.random()>.5?"0":"1",age:Math.random()>.7?"0":Math.random()>.5?"1":"2",personality:{conscientiousness:(.35*Math.random()+.35).toString(),neuroticism:(.35*Math.random()+.35).toString(),extraversion:(.35*Math.random()+.35).toString(),agreeableness:(.35*Math.random()+.35).toString(),openess:(.35*Math.random()+.35).toString()}}}},this)}),a&&(this.idx=s,this.store=n),t.abrupt("return",{store:n,index:s});case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getStats",value:function(t){var e=[],a=0,n=0,s=0,r={conscientiousness:0,neuroticism:0,extraversion:0,agreeableness:0,openess:0};for(var i in t)if(!e.includes(t[i].user.username)){var o=t[i].user;e.push(o.username),"0"===o.gender&&a++,"0"===o.age?n++:"1"===o.age&&s++,r.conscientiousness+=u()(o.personality.conscientiousness),r.neuroticism+=u()(o.personality.neuroticism),r.extraversion+=u()(o.personality.extraversion),r.agreeableness+=u()(o.personality.agreeableness),r.openess+=u()(o.personality.openess)}var l=e.length;for(var c in r)r[c]=Math.floor(r[c]/l*100);var d={gender:{male:a,female:e.length-a},age:{young:n,adult:s,senior:e.length-n-s},personality:r};return d}}]),t}();function te(t){switch(t){case 10:return"small";case 50:return"medium";case 100:return"large"}}function ee(t,e){return Math.floor(Math.random()*(e-t+1)+t)}Object(Wt["a"])(Zt,"idx",void 0),Object(Wt["a"])(Zt,"store",void 0),Object(Wt["a"])(Zt,"average",void 0);var ae=a("5118");function ne(t,e){var a=t.metadata,n={};for(var s in a){var r=function(t){n[t]=[],a[s][t].position.forEach(function(e){n[t].push(e)})};for(var i in a[s])r(i)}var o=function(t){l=0,n[t].sort(function(t,e){return t[0]-e[0]}).forEach(function(a){var n=e[t];n&&(e[t]=n.slice(0,a[0]+l)+"<mark>"+n.slice(a[0]+l,a[0]+a[1]+l)+"</mark>"+n.slice(a[0]+a[1]+l),l+=13)})};for(var i in n){var l;o(i)}return e}var se={" ":1,e:2,o:3,t:4,a:5,i:6,n:7,s:8,r:9,l:10,h:11,d:12,u:13,m:14,y:15,c:16,g:17,w:18,p:19,"?":20,f:21,".":22,b:23,"@":24,k:25,v:26,I:27,"~":28,"#":29,T:30,A:31,"'":32,S:33,"!":34,",":35,E:36,C:37,M:38,"-":39,'"':40,":":41,O:42,N:43,R:44,P:45,H:46,L:47,D:48,W:49,B:50,F:51,G:52,1:53,")":54,0:55,x:56,j:57,"(":58,Y:59,2:60,"+":61,U:62,"\n":63,J:64,3:65,z:66,K:67,V:68,"/":69,4:70,"“":71,5:72,"”":73,"&":74,q:75,">":76,9:77,"’":78,8:79,"<":80,6:81,7:82,"[":83,"]":84,"*":85,Q:86,"|":87,"–":88,";":89,"…":90,Z:91,X:92};function re(t,e){return new o.a(function(a,n){e.loadLayersModel("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/serve/ai/gender/model.json").then(function(e){var s=[],r=function(r){console.log("predicting "+r);var i=e.predict(t[r]);i.array().then(function(t){var e=t.map(function(t){return t[0]}),n=0;e.forEach(function(t){return n+=t}),s.push({user:r,gender:n/e.length<.5?"male":"female",average:n/e.length,predictions:e}),a(s)}).catch(function(t){console.log("Failed exporting the predictions to an array"),n(t)})};for(var i in t)r(i)}).catch(function(t){console.log("Failed loading the model"),n(t)})})}var ie=a("0b53"),oe=2e3,le=92,ce=60,ue=function(){function t(){Object(Rt["a"])(this,t)}return Object(Lt["a"])(t,null,[{key:"init",value:function(){var t=this;return console.log("ai engine init"),new o.a(function(e){console.log("loading data..."),fetch("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/client/backend/data/data.json").then(function(t){return t.json()}).then(function(a){t.data=de(a.slice(0,oe)),e()})})}},{key:"predictGender",value:function(){var t=this;return new o.a(function(e,a){re(t.data,ie).then(function(t){return e(t)}).catch(function(t){return a(t)})})}}]),t}();function de(t){var e={};for(var a in t.forEach(function(t){var a=t.author;a||console.log(t),e[a.username]||(e[a.username]=[]),e[a.username].push(t.body)}),console.log("predicting "+St()(e).length+" users"),console.log("preprocessing..."),e){var n=e[a];e[a]=n.map(function(t){return t=fe(t),t}),e[a]=ie["stack"](e[a])}return e}function fe(t){var e=t.split("");e=e.map(function(t){return se[t]?se[t]:se["+"]}),e=e.slice(0,ce),e=ie["oneHot"](e,le);var a=[[0,Math.abs(60-e.shape[0])],[0,0]];return e=e.pad(a),e}Object(Wt["a"])(ue,"data",void 0);var he={name:"app",components:{Sidebar:D,TweetGrid:vt,SearchSummary:xt,SearchBar:Pt,Loader:At},data:function(){return{msg:M,sidebarOpen:!1,searchQuery:{search:"",gender:"",age:[0,100],personality:[{name:"Conscientiousness",val:[0,100]},{name:"Neuroticism",val:[0,100]},{name:"Extraversion",val:[0,100]},{name:"Agreeableness",val:[0,100]},{name:"Openess",val:[0,100]}]},dataConfig:{preloaded:"asdfasdfasdfafds",dynamic:[]},pending:!1,loadingText:M.load.work,pageText:M.hello,page:1,twitts:[],stats:{count:0,time:0},windowWidth:window.innerWidth}},params:{searchQuery:Object,sidebarOpen:Boolean},computed:{info:function(){var t={};return this.twitts&&(t.count=this.twitts.length),this.twitts.time&&(t.time=this.twitts.time),t},displayedTwitts:function(){if(!this.twitts)return[];for(var t=[],e=8*(this.page-1);e<8*this.page;e++)this.twitts[e]&&t.push(this.twitts[e]);return t.map(function(t){return ne(t.positions,t)})},mobile:function(){return this.windowWidth<800}},mounted:function(){var t=this;this.start(M.load.search),this.$nextTick(function(){Object(ae["setTimeout"])(function(){Zt.init().then(function(){t.pending=!1})},1),window.addEventListener("resize",function(){t.windowWidth=window.innerWidth})})},methods:{updatePreloaded:function(t){this.dataConfig.preloaded=t},setSidebarOpen:function(t){this.sidebarOpen=t},sortBy:function(t){switch(t){case"match":this.twitts.twitts.sort(function(t,e){return e.score-t.score});break;case"lengthDsc":this.twitts.twitts.sort(function(t,e){return e.body.length-t.body.length});break;case"lengthAsc":this.twitts.twitts.sort(function(t,e){return t.body.length-e.body.length});break;default:break}},searchForTweets:function(){var t=this;this.start(),Object(ae["setTimeout"])(function(){if(!t.searchQuery.search)return t.pageText=M.search,t.twitts=[],void(t.pending=!1);var e=Zt.search(t.searchQuery.search),a=t.searchQuery,n=a.age,s=a.gender,r=a.personality;s=s.toLowerCase();var i=e.twitts;if(s){var o="Male"===s?1:0;i=i.filter(function(t){return f()(t.user.gender)===o})}if(0!==n[0]||100!==n[1]){var l=[];18==n[0]&&n[1]>18&&l.push("0"),n[0]<=25&&n[1]>25&&l.push("1"),n[0]<=34&&n[1]>34&&l.push("2"),i=i.filter(function(t){return l.includes(t.user.age)})}r=r.filter(function(t){return 0!==t.val[0]||100!==t.val[1]}),r.forEach(function(t){i=i.filter(function(e){var a=u()(e.user.personality[t.name.toLowerCase()]);return a>=t.val[0]/100&&a<=t.val[1]/100})}),i.slice(0,1e4),t.twitts=i,t.stats.count=e.twitts.length,t.stats.time=e.time,t.stats.average=e.average,t.stats.search=Zt.getStats(e.twitts),t.page=1,0===e.twitts.length&&(t.pageText=M.error),t.pending=!1},100)},loadPage:function(t){t-1<1&&(t=1),t+1>10&&(t=10),this.page=t},loadData:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.start("Fetching your tweets..."),t.next=3,new o.a(function(t){return Object(ae["setTimeout"])(t,10)});case 3:return t.next=5,Zt.load(this.dataConfig);case 5:if(e=t.sent,"undefined"==typeof e||!e){t.next=11;break}return t.next=9,new o.a(function(t){return Object(ae["setTimeout"])(t,1e3)});case 9:this.loadingText="Indexing your tweets...",Zt.index(e,!0);case 11:this.loadingText="Quering the store...",this.cleanSeach(),a=Zt.search(this.searchQuery.search),this.twitts=a.twitts,this.stats.count=a.twitts.length,this.stats.time=a.time,this.stats.average=a.average,this.stats.search=Zt.getStats(a.twitts),this.page=1,this.pending=!1;case 21:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),runAI:function(){var t=this;this.start(M.load.ai+"<br>Feedback in console"),ue.init().then(function(){t.loadingText="Waking up the AI ✔️<br>Predicting gender...",Object(ae["setTimeout"])(function(){ue.predictGender().then(function(e){t.loadingText=t.loadingText+" ✔️<br>Success",console.log(e)})},10)})},start:function(t){this.pending=!0,this.sidebarOpen=!1;var e=t||M.load.work;this.loadingText=e},cleanSeach:function(){this.search="",this.gender="",this.age=[0,100]}}},pe=he,me=(a("034f"),Object(k["a"])(pe,s,r,!1,null,null,null)),ge=me.exports,ve=(a("4989"),a("ab8b"),a("3222")),be=a.n(ve),ye=(a("cfbd6"),a("fe56")),we=a("a2df"),je=a.n(we);n["default"].use(be.a),n["default"].use(ye["a"]),n["default"].use(je.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(ge)}}).$mount("#app")},"5ae7":function(t,e,a){},6:function(t,e){},"642f":function(t,e,a){},"64a9":function(t,e,a){},7:function(t,e){},"763a":function(t,e,a){"use strict";var n=a("5ae7"),s=a.n(n);s.a},8:function(t,e){},"8fba":function(t,e,a){a("28a5");var n=a("795b"),s=a("cfae"),r=a("2445"),i=a("53bb"),o=function(t){this.noOfTweets=t.noOfTweets,this.url=t.url,this.extractor=new s(t),t.browser?(this.fetch=i.fetch,window.__twttr=i):this.fetch=r};function l(t,e){var a=t.split("&");return"max_position"===a[a.length-1].slice(0,12)&&(t=t.slice(0,t.length-(a[a.length-1].length+1))),t+="&max_position="+e,t}o.prototype.getTweets=function(t){var e=this;return new n(function(a,n){t.length>=e.noOfTweets?a(t):e.fetch(e.url).then(function(n){if(!n.body)return console.log("Failed a request! Url: "+e.url),void a(t);var s=e.extractor.extract(n.body);0!==s.length?(t=t.concat(s),e.url=l(e.url,n.headers.minPosition),e.getTweets(t).then(function(t){a(t)}).catch(function(n){console.log("Couldn't extract from: "+e.url+"\n"+n),a(t)})):a(t)})})},t.exports=o},9279:function(t,e,a){t.exports=a.p+"img/logo-black.83defbb4.png"},9669:function(t,e,a){a("ac6a");var n=a("795b"),s=a("8fba"),r=a("e2a0");function i(t){return new n(function(e,a){var n={};t.profiles.forEach(function(i){var l=r.getConfig(t);l.profile=i,l.url=r.getUrl(l),l.url||a(new Error("Invalid configuration!"));var c=new s(l),u=[];c.getTweets(u).then(function(a){n[i]=a.slice(0,l.noOfTweets),o(t,n)&&e(n)})})})}function o(t,e){var a=!0;return t.profiles.forEach(function(t){e[t]||(a=!1)}),a}"undefined"!==typeof window&&(window.extract=i),t.exports=i},bcf2:function(t,e,a){},cfae:function(t,e,a){a("7514");var n=a("02cc"),s=function(t){this.showAuthor=t.showAuthor,this.showRetweets=t.showRetweets,this.showMedia=t.showMedia,this.showEmpty=t.showEmpty};s.prototype.extract=function(t){var e=n.load(t),a=[],s=this;return e.root().find(".timeline-Tweet").map(function(t,n){var r={};if(e(this).find(".timeline-Tweet-retweetCredit").length>0?r.isRetweet=!0:r.isRetweet=!1,!r.isRetweet||r.isRetweet&&s.showRetweets){if(r.id=e(this).attr("data-tweet-id"),r.body=e(this).find(".timeline-Tweet-text").text(),r.time=e(this).find(".dt-updated").text().slice(6),r.timestamp=e(this).find(".dt-updated").attr("datetime"),r.link=e(this).find(".timeline-Tweet-timestamp").attr("href"),s.showAuthor){var i=e(this).find(".timeline-Tweet-author");r.author={},r.author.name=i.find(".TweetAuthor-name").text(),r.author.username=i.find(".TweetAuthor-screenName ").text(),r.author.link=i.find(".TweetAuthor-link").attr("href"),r.author.img=i.find(".Avatar").attr("data-src-2x")}if(s.showMedia){var o=e(this).find(".timeline-Tweet-media");o.hasClass("timeline-Tweet-media")&&(r.media=[],o.find("img").map(function(t,a){e(this).attr("data-image")&&r.media.push(e(this).attr("data-image")+"?format=jpg&name=large")}),0===r.media.length&&delete r.media)}(r.body||s.showEmpty)&&a.push(r)}}),a},t.exports=s},d939:function(t,e,a){t.exports=a.p+"img/logo-white.414824de.png"},dc9f:function(t,e,a){},e2a0:function(t,e){var a="https://syndication.twitter.com/timeline/",n="?callback=__twttr.callback&dnt=false&suppress_response_codes=true&rnd="+Math.random();function s(t){var e={};return e.showAuthor="undefined"===typeof t.showAuthor||t.showAuthor,e.showRetweets="undefined"===typeof t.showRetweets||t.showRetweets,e.showMedia="undefined"===typeof t.showMedia||t.showMedia,e.showEmpty="undefined"===typeof t.showEmpty||t.showEmpty,e.noOfTweets=t.noOfTweets?t.noOfTweets:20,e.browser="undefined"!==typeof window,e.lang=t.lang?t.lang:"en",e}function r(t){var e="";return t.profile&&(e=i(t)),t.likes&&(e=o(t)),t.list&&(e=l(t)),e}function i(t){return a+"profile"+n+"&screen_name="+t.profile+"&lang="+t.lang}function o(t){return a+"likes"+n+"&screen_name="+t.profile+"&lang="+t.lang}function l(t){return a+"list"+n+"&screen_name="+t.profile+"&list_slug="+t.list+"&lang="+t.lang}t.exports={getConfig:s,getUrl:r}}});
//# sourceMappingURL=app.adcf1d4e.js.map