(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)i=o[d],s[i]&&f.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nanyang-analytica/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"052d":function(e,t,n){"use strict";var a=n("642f"),s=n.n(a);s.a},1:function(e,t){},2:function(e,t){},2445:function(e,t,n){var a=n("795b"),s=n("24f8");function r(e){return new a(function(t,n){var a=s.get(e,function(e){if(e.statusCode<200||e.statusCode>=300)return n(new Error("statusCode="+e.statusCode));e.setEncoding("utf8");var a="";e.on("data",function(e){a+=e}),e.on("end",function(){try{a=JSON.parse(a.slice(21,a.length-2))}catch(e){n(e)}t(a)})});a.on("error",function(e){n(e)}),a.end()})}e.exports=r},"2dae":function(e,t,n){"use strict";var a=n("dc9f"),s=n.n(a);s.a},3:function(e,t){},"3a59":function(e,t,n){"use strict";var a=n("bcf2"),s=n.n(a);s.a},4:function(e,t){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},5:function(e,t){},"53bb":function(e,t,n){var a=n("795b"),s={},r={fetch:function(e){return new a(function(t,n){var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,r.addEventListener("load",function(){t(s)}),a.appendChild(r)})},callback:function(e){s=e}};e.exports=r},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{mobile:e.mobile},attrs:{id:"app"}},[a("link",{attrs:{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.2.0/css/all.css",integrity:"sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ",crossorigin:"anonymous"}}),a("div",{staticClass:"top",attrs:{id:"top"}}),a("sidebar",{attrs:{isOpen:e.sidebarOpen,query:e.searchQuery,loadDynamic:e.loadData,dataFields:e.dataConfig,set:e.setSidebarOpen,load:e.searchForTweets,mobile:e.mobile,update:e.updatePreloaded}}),a("img",{staticClass:"logo-lion",attrs:{src:n("9279"),alt:""}}),a("main",{class:{squizzer:!e.sidebarOpen},attrs:{id:"page-wrap"}},[a("div",{staticClass:"container mt-4"},[a("search-bar",{class:{"d-none":e.sidebarOpen},attrs:{query:e.searchQuery,load:e.searchForTweets}}),e.pending?a("div",[a("loader",{staticClass:"whole-page",attrs:{loading:e.pending,text:e.loadingText}})],1):a("div",[a("search-summary",{attrs:{loadPage:e.loadPage,stats:e.stats,sort:e.sortBy,text:e.pageText}}),e.displayedTwitts.length>0?a("tweet-grid",{attrs:{tweets:e.displayedTwitts,loadPage:e.loadPage,stats:e.stats,open:e.sidebarOpen,page:e.page,mobile:e.mobile}}):e._e()],1)],1)])],1)},r=[],i=n("795b"),o=n.n(i),l=(n("96cf"),n("3b8d")),c=(n("55dd"),n("386d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ScaleRotate",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],attrs:{disableOutsideClick:"",noOverlay:"",width:"320",isOpen:e.isOpen},on:{openMenu:function(t){return e.set(!0)},closeMenu:e.close}},[a("div",{staticClass:"flex brand"},[a("img",{attrs:{height:"100px",src:n("d939"),alt:""}}),a("span",{staticClass:"align-self-center"},[e._v("\n            Nanyang\n            Analytica\n        ")])]),e.isOpen?a("div",{staticClass:"row px-4"},[a("div",{staticClass:"col-12"},[a("h5",{staticClass:"text-uppercase"},[e._v("Search")]),a("form",{attrs:{action:"#",method:"post"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{html:"tooltipContent",visible:!e.mobile},expression:"{ html: 'tooltipContent', visible: !mobile }",modifiers:{right:!0}}],staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:e.query.search},on:{input:function(t){t.target.composing||e.$set(e.query,"search",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"d-none",attrs:{type:"submit"}}),a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"btn btn-outline-warning"},[e._v("\n                          More "),a("i",{staticClass:"fas fa-caret-down"})])])])]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.query.gender,expression:"query.gender"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.query,"gender",t.target.multiple?n:n[0])}}},[a("option",[e._v("Male")]),a("option",[e._v("Female")])])]),a("div",{staticClass:"form-group mb-4"},[a("label",{attrs:{for:"customRange1"}},[e._v("Age: "+e._s(e.query.age[0])+" - "+e._s(e.query.age[1]))]),a("vue-slider",{attrs:{marks:!0,data:e.data,lazy:!0,"enable-cross":!1},model:{value:e.query.age,callback:function(t){e.$set(e.query,"age",t)},expression:"query.age"}})],1),a("personality-picker",{attrs:{query:e.query}})],1),a("div",{staticClass:"row justify-content-around"},[a("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning my-2",on:{click:e.submit}},[e._v("Search")])])],1),a("h5",{staticClass:"text-uppercase mt-4"},[e._v("data")]),a("div",[a("form",{attrs:{action:"#",method:"post"},on:{submit:function(t){return t.preventDefault(),e.split(t)}}},[a("div",{staticClass:"form-group mt-2"},[a("label",{attrs:{for:""}},[e._v("User Names")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currUserName,expression:"currUserName"},{name:"tooltip",rawName:"v-tooltip.top",value:{content:"Type in any username to load",visible:!e.mobile},expression:"{ content: 'Type in any username to load', visible: !mobile }",modifiers:{top:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usernames"},domProps:{value:e.currUserName},on:{input:function(t){t.target.composing||(e.currUserName=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"d-none",attrs:{type:"submit"}}),a("button",{staticClass:"btn btn-outline-warning",on:{click:e.preload}},[e._v("\n                              Random\n                            ")])])])])]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{content:"Load our preprocessed, static data",visible:!e.mobile},expression:"{ content: 'Load our preprocessed, static data', visible: !mobile }",modifiers:{right:!0}}],staticClass:"form-group mb-4"},[a("label",{attrs:{for:"customRange1"}},[e._v("Load: "+e._s(e.asdf)+"k")]),a("vue-slider",{attrs:{marks:e.marks,lazy:!0,included:!0},model:{value:e.asdf,callback:function(t){e.asdf=t},expression:"asdf"}})],1),e.dataFields.dynamic.length>0?a("div",{staticClass:"row mb-2",staticStyle:{"max-width":"300px"}},e._l(e.dataFields.dynamic,function(t){return a("div",{key:t,staticClass:"badge badge-warning m-1 badge-name"},[a("span",[e._v("\n                                "+e._s(t)+" ")]),e._v("\n                            | "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.remove(t)}}},[e._v(" X ")])])}),0):e._e(),a("div",{staticClass:"row justify-content-around"},[e.dataFields.dynamic.length>0&&e.asdf?a("small",{staticClass:"form-text text-muted mt-0 mb-1"},[e._v(" \n                          "+e._s(e.msg.side.load)+"\n                        ")]):e._e(),a("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning my-2",on:{click:e.loadDataMethod}},[e._v("\n                          "+e._s(e.loadText)+"\n                        ")]),e.dataFields.dynamic.length>0?a("button",{staticClass:"btn btn-warning mb-2",on:{click:function(t){e.dataFields.dynamic=[]}}},[e._v("\n                        Clear")]):e._e()])])])]):e._e()])}),u=[],d=(n("28a5"),n("6762"),n("2fdb"),n("db0f")),f=n("e4c5"),p=n.n(f),h=n("4971"),m=n.n(h),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row ",staticStyle:{"margin-top":"40px !important"}},[n("div",{staticClass:"col-10 pt-3 pl-1 pb-3 pr-0"},e._l(e.query.personality,function(t){return n("div",{key:t.name},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-7 mb-1 pr-0 pl-4"},[e._v("\n                    "+e._s(t.name)+":\n                ")]),n("div",{staticClass:"col-5 px-0 pl-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-7 pr-0"},[e._v("\n                            "+e._s(t.val[0])+" - "+e._s(t.val[1])+"\n                        ")]),n("div",{staticClass:"col-4 px-0 pr-2"},[n("div",{staticClass:"d-inline",on:{click:function(n){e.curr=t.name}}},[n("i",{class:{"far fa-circle":t.name!=e.curr,"far fa-dot-circle":t.name==e.curr}})])])])])])])}),0),n("div",{staticClass:"col-2 px-0"},[n("vue-slider",{staticStyle:{},attrs:{"tooltip-placement":"right",marks:e.marks,lazy:!0,"enable-cross":!1,direction:"btt",height:150},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}})],1)])},v=[],b=(n("20d6"),n("7f7f"),n("7514"),{components:{VueSlider:m.a},data:function(){return{curr:"Conscientiousness",marks:[0,50,100],loadText:"Load"}},props:{query:{type:Object,required:!0}},computed:{values:{get:function(){var e=this;return this.query.personality.find(function(t){return t.name==e.curr}).val},set:function(e){var t=this,n=this.query.personality.findIndex(function(e){return e.name==t.curr});this.query.personality[n].val=e}}}}),y=b,w=(n("052d"),n("2877")),x=Object(w["a"])(y,g,v,!1,null,null,null),j=x.exports,C=["katyperry","BarackObama","justinbieber","taylorswift13","ladygaga","TheEllenShow","jtimberlake","ArianaGrande","KimKardashian","realDonaldTrump","selenagomez","britneyspears","jimmyfallon","BillGates","JLo","nytimes","BrunoMars","KingJames","Oprah","MileyCyrus","KevinHart4real","LilTunechi","wizkhalifa","Pink","aliciakeys","chrisbrown","kanyewest","ConanOBrien","KendallJenner","ActuallyNPH","KylieJenner","khloekardashian","pitbull","danieltosh","POTUS","elonmusk","HillaryClinton","kourtneykardash","Eminem","MariahCarey","blakeshelton","NICKIMINAJ","LeoDiCaprio","StephenAtHome","JimCarrey","aplusk","SnoopDogg","KDTrey5","ParisHilton","xtina","camerondallas","RyanSeacrest","ZacEfron","tomhanks","Diddy","POTUS44","Beyonce","Zendaya","SHAQ","maroon5","tyrabanks","BigSean","SethMacFarlane","kobebryant","nickjonas","TreySongz","funnyordie","TheRock","StephenCurry30","VancityReynolds","neiltyson","ashleytisdale","iamwill","stephenfry","RobertDowneyJr","SarahKSilverman","johnlegend","JColeNC","Usher","MichelleObama","kelly_clarkson","markiplier","mindykaling","FLOTUS","kendricklamar","Ludacris","JohnCena","jimmykimmel","charliesheen","MarcAnthony","tim_cook","ciara","BillClinton","billmaher","chrissyteigen","serenawilliams","azizansari","Pharrell","ChrisEvans","VictoriaJustice","halsey","50cent"],k={hello:"Hello! 🤗 To search Twitter type in a keyword or go to options",error:"Oh no 🥵 We couldn't find anything that matches your query",search:"Oi 🤨 We need something to search for",load:{work:"We're working on it...",search:"Warming up the search engine...",ai:"Waking up the AI 🤖...",scrape:""},side:{load:"Loading both static and dynamic fields will take a while as we need to reindex it after"}},_=k,O=n("a596"),T=n.n(O),S={components:{ScaleRotate:d["ScaleRotate"],VueSlider:m.a,PersonalityPicker:j,BCollapse:p.a},directives:{"b-toggle":T.a},data:function(){return{msg:_,asdf:10,currUserName:"",marks:[0,10,50,100],data:[18,25,34,100],loadText:"Load"}},methods:{loadDataMethod:function(){this.currUserName&&this.dataFields.dynamic.push(this.currUserName),this.update(this.asdf),this.dataFields.static=this.asdf,this.loadText="Reload",this.loadDynamic()},submit:function(){this.set(!1),this.load()},preload:function(){var e=this,t=C.filter(function(t){return!e.dataFields.dynamic.includes(t)&&t.length>0}).sort(function(){return Math.random()-.5}).slice(0,10);this.dataFields.dynamic=this.dataFields.dynamic.concat(t),this.loadDataMethod()},remove:function(e){this.dataFields.dynamic=this.dataFields.dynamic.filter(function(t){return t!=e})},close:function(){this.set(!1)},split:function(){this.currUserName&&this.dataFields.dynamic.push(this.currUserName),this.currUserName=""}},watch:{currUserName:function(e){var t=e.split(" ");t.length>1&&(this.dataFields.dynamic=this.dataFields.dynamic.concat(t.filter(function(e){return e.length>0})),this.currUserName="")}},props:{isOpen:{type:Boolean,required:!0},query:{type:Object,required:!0},set:{type:Function,required:!0},load:{type:Function,required:!0},dataFields:{type:Object,required:!0},loadDynamic:{type:Function,required:!0},mobile:{type:Boolean,required:!0},update:{type:Function,required:!0}}},q=S,E=(n("2dae"),Object(w["a"])(q,c,u,!1,null,null,null)),F=E.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[n("div",{staticClass:"text-center row"},[e.stats.count>0?n("div",{staticClass:"col-12 col-md-6 mb-2"},[n("Stats",{attrs:{stats:e.stats}})],1):e._e(),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"row p-0"},e._l(e.tweets.slice(0,2),function(t){return n("div",{key:t.id,staticClass:"col-12 mb-2",class:{"col-6":e.open}},[n("tweet-item",{attrs:{tweet:t,sidebarOpen:e.open,mobile:e.mobile}})],1)}),0)]),e._l(e.tweets.slice(2,8),function(t){return n("div",{key:t.id,staticClass:"col-lg-6 mb-2",class:{"col-6":e.open}},[n("tweet-item",{attrs:{tweet:t,sidebarOpen:e.open,mobile:e.mobile}})],1)}),e.tweets.length<5?n("div",{staticClass:"screen-pusher"}):e._e(),n("nav",{staticClass:"col-12 d-flex justify-content-center",attrs:{"aria-label":"Page navigation example"}},[n("ul",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"pagination text-center",staticStyle:{cursor:"pointer"}},e._l(e.noOfPages,function(t){return n("li",{key:t,staticClass:"page-item"},[n("a",{staticClass:"page-link",on:{click:function(n){return e.loadPage(t)}}},[e._v(e._s(t))])])}),0)])],2)])},P=[],z=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card hoverable fancy-tweet",on:{mouseenter:function(t){return e.toggleCollapse(e.tweet.id)},mouseleave:function(t){return e.toggleCollapse(e.tweet.id)}}},[n("div",{staticClass:"row m-4"},[n("div",{staticClass:"col-sm-4 p-2",class:{"col-sm-12 my-4":e.sidebarOpen}},[n("div",[n("img",{staticClass:"card-img-top",attrs:{src:e.tweet.user.photo,alt:"Card image cap"}})]),n("h5",{staticClass:"card-title mt-2 mb-0",domProps:{innerHTML:e._s(e.tweet.name)}}),n("small",{staticClass:"text-muted mt-0 mb-1"},[e._v(e._s(e.tweet.user.username)+" "),n("br"),e._v(" "+e._s(e.getHumanDate(e.tweet.time)))])]),e.sidebarOpen?e._e():n("div",{staticClass:"col-sm-8"},[n("div",{staticClass:"card-body"},[n("p",{staticClass:"card-text",domProps:{innerHTML:e._s(e.tweet.body)}})])])]),n("b-collapse",{attrs:{id:e.tweet.id,visible:e.mobile}},[n("div",{staticClass:"card-footer text-muted row mx-0"},[n("div",{staticClass:"mt-2 col-4"},[n("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleModal(e.tweet.id+e.tweet.user.username)}}},[n("div",[n("i",{staticClass:"fas fa-user-circle"}),n("br"),e._v("\n                        Profile\n                    ")])])]),n("div",{staticClass:"mt-2 col-4"},[n("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleModal(e.tweet.id)}}},[n("div",[n("i",{staticClass:"fas fa-info-circle"}),n("br"),e._v("\n                        Tweet\n                    ")])])]),n("div",{staticClass:"mt-2 col-4"},[n("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleModal("asdf")}}},[n("a",{attrs:{href:e.tweet.link,rel:"noopener noreferrer",target:"_blank"}},[n("i",{staticClass:"fas fa-play-circle"}),n("br"),e._v("\n                        Link\n                    ")])])])])]),n("tweet-modal",{attrs:{tweet:e.tweet}}),n("user-modal",{attrs:{tweet:e.tweet}})],1)}),N=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{size:"lg",id:e.tweet.id+e.user.username}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-5"},[n("div",{staticClass:"mb-2"},[n("img",{staticClass:"card-img-top",attrs:{src:e.user.photo,alt:"Card image cap"}})]),e._v("\n            "+e._s(e.user.name)+"\n        ")]),n("div",{staticClass:"col-7"},[e._v("\n            "+e._s(e.user.age)+" "+e._s(e.user.gender)+" "),n("br"),n("small",{staticClass:"mt-2"},[n("strong",[e._v("Personality")])]),e._l(e.personality,function(t){return n("div",{key:t.type+e.tweet.id},[e._v("\n                "+e._s(t.type)+": "+e._s(t.val)+"\n            ")])})],2)])])},D=[],B=n("cebc"),R=n("3a5b"),L=n.n(R),U={components:{BModal:L.a},props:{tweet:{type:Object,required:!0}},computed:{user:function(){var e={};return 0==this.tweet.user.age&&(e.age="Young"),1==this.tweet.user.age&&(e.age="Adult"),2==this.tweet.user.age&&(e.age="Senior"),e.gender=0==this.tweet.user.gender?"Man":"Woman",Object(B["a"])({},this.tweet.user,{age:e.age,gender:e.gender})},personality:function(){var e=this.user.personality,t=[];for(var n in e)"neuroticism"==n?t.push({type:n,val:Math.floor(100-100*e[n])}):t.push({type:n,val:Math.floor(100*e[n])});return t}}},W=U,$=Object(w["a"])(W,A,D,!1,null,null,null),H=$.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{size:"lg",id:e.tweet.id}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4 mb-2"},[n("p",{staticClass:"card-text",domProps:{innerHTML:e._s(e.tweet.body)}})]),n("div",{staticClass:"col-md-8"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4  mb-2"},[n("small",[n("strong",[e._v("Gender")])]),e._l(e.gender,function(t){return n("div",{key:t.type+e.tweet.id},[e._v("\n                        "+e._s(t.type)+": "+e._s(t.val)+"\n                    ")])})],2),n("div",{staticClass:"col-md-4  mb-2"},[n("small",[n("strong",[e._v("Age")])]),e._l(e.age,function(t){return n("div",{key:t.type+e.tweet.id},[e._v("\n                        "+e._s(t.type)+": "+e._s(t.val)+"\n                    ")])})],2),n("div",{staticClass:"col-md-4  mb-2"},[n("small",[n("strong",[e._v("Personality")])]),e._l(e.personality,function(t){return n("div",{key:t.type+e.tweet.id},[e._v("\n                        "+e._s(t.type)+": "+e._s(t.val)+"\n                    ")])})],2)])])])])},J=[],K={components:{BModal:L.a},props:{tweet:{type:Object,required:!0}},computed:{gender:function(){var e=this.tweet.gender,t={};t.male=e,t.female=Math.floor(40*Math.random()+30);var n=[];for(var a in t)n.push({type:a,val:t[a]});return n},age:function(){var e=this.tweet.age,t=[];for(var n in e)t.push({type:n,val:e[n]});return t},personality:function(){var e=this.tweet.personality,t=[];for(var n in e)t.push({type:n,val:e[n]});return t}}},G=K,I=Object(w["a"])(G,Q,J,!1,null,null,null),V=I.exports,X={components:{BCollapse:p.a,TweetModal:V,UserModal:H},props:{tweet:{type:Object,required:!0},sidebarOpen:{type:Boolean,required:!0},mobile:{type:Boolean,required:!0}},methods:{getHumanDate:function(e){var t={weekday:"long",year:"numeric",month:"long",day:"numeric"},n=new Date(e);return n.toDateString(t)},toggleCollapse:function(e){this.$root.$emit("bv::toggle::collapse",e)},toggleModal:function(e){this.$root.$emit("bv::toggle::modal",e)}}},Y=X,Z=Object(w["a"])(Y,z,N,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card p-3"},[n("h5",{staticClass:"font-weight-bold"},[e._v("Search Statistics")]),e.stats?n("div",[n("div",{staticClass:"row mb-2"},[n("div",{staticClass:"col-lg-4 pr-0 mb-4",staticStyle:{}},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-12 mb-2"},[n("small",[e._v("This search term is mainly mentioned by people that are "),n("strong",[e._v(e._s(e.short.gender))]),e._v("  and "),n("strong",[e._v(" "+e._s(e.short.age))]),e._v(",\n                      higher on "),n("strong",[e._v(e._s(e.diff.sort(function(e,t){return t.val-e.val})[0].name))]),e._v(" and lower on "),n("strong",[e._v(e._s(e.diff.sort(function(e,t){return e.val-t.val})[0].name))])])]),n("small",[e._v("Summary: ")]),e._l(e.diff,function(t){return n("div",{key:t.name,staticClass:"col-4 col-md-12"},[n("small",[n("i",{class:e.getClass(t.val)}),e._v(" \n                        "+e._s(t.val)+"% "+e._s(t.name)),n("br")])])})],2)]),n("div",{staticClass:"col-lg-8 pl-0"},[n("radar-chart",{attrs:{data:e.personalityData,options:e.bigOptions,styles:e.bigStyle}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("pie-chart",{attrs:{data:e.genderData,options:e.smallOptions,styles:e.smallStyle,title:"Gender"}})],1),n("div",{staticClass:"col-6"},[n("pie-chart",{attrs:{data:e.ageData,options:e.smallOptions,styles:e.smallStyle,title:"Age"}})],1)])]):n("div",[e._v("\n      Cracking up the numbers...\n    ")])])},ne=[],ae=n("1fca"),se={extends:ae["b"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){console.log("renders!"),this.renderChart(this.data,this.options)}},re={extends:ae["a"],props:{data:{type:Object,default:null},options:{type:Object,default:null},title:{type:String,default:null}},mounted:function(){this.options.title.text=this.title,this.renderChart(this.data,this.options)}},ie={components:{RadarChart:se,PieChart:re},data:function(){return{smallStyle:{maxHeight:"150px",position:"relative"},bigStyle:{maxHeight:"300px",maxWidth:"320px",position:"relative"},windowWidth:window.innerWidth}},props:{stats:{type:Object,required:!1}},mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("resize",function(){e.windowWidth=window.innerWidth})})},computed:{short:function(){if(this.stats.search){var e={};e.gender=this.stats.search.gender.male>=this.stats.search.gender.female?"man":"woman";var t=[];for(var n in this.stats.search.age)t.push({name:n,val:this.stats.search.age[n]});return e.age=t.sort(function(e,t){return t.val-e.val})[0].name,e}},diff:function(){if(this.stats.search){var e=this.stats.search.personality,t=this.stats.average.searchPersonality;return[{name:"Conscientiousness",val:e.conscientiousness-t.conscientiousness},{name:"Neuroticism",val:e.neuroticism-t.neuroticism},{name:"Extraversion",val:e.extraversion-t.extraversion},{name:"Agreeableness",val:e.agreeableness-t.agreeableness},{name:"Openess",val:e.openess-t.openess}]}},mobile:function(){return this.windowWidth<800},genderData:function(){var e=[];if(this.stats.search){for(var t in this.stats.search.gender)e.push(this.stats.search.gender[t]);var n={labels:["Man","Woman"],datasets:[{backgroundColor:["#DD1B16","#28a745"],data:e}]};return n}},ageData:function(){var e=[];if(this.stats.search){for(var t in this.stats.search.age)e.push(this.stats.search.age[t]);var n={labels:["Young","Adult","Senior"],datasets:[{backgroundColor:["#007bff","#DD1B16","#ffc107"],data:e}]};return n}},personalityData:function(){var e=[],t=[];if(this.stats.search){for(var n in this.stats.search.personality)"neuroticism"==n?(e.push(100-this.stats.search.personality[n]),t.push(100-this.stats.average.searchPersonality[n])):(e.push(this.stats.search.personality[n]),t.push(this.stats.average.searchPersonality[n]));var a={labels:["Conscientiousness","Neuroticism","Extraversion","Agreeableness","Openess"],datasets:[{label:"Search",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgb(255, 10, 122)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",data:e},{label:"Average",backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgb(23, 162, 184)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",data:t}]};return a}},smallOptions:function(){var e={legend:{position:"right",labels:{boxWidth:30,fontSize:12}},responsive:!0,maintainAspectRatio:!1,title:{display:!0,padding:2}};return this.mobile&&(e.legend.position="top",e.legend.labels.boxWidth=10,e.legend.labels.fontSize=10),e},bigOptions:function(){var e={legend:{position:"top"},responsive:!0,maintainAspectRatio:!1,title:{display:!0,position:"top",padding:2,text:"Personality"}};return e}},methods:{getClass:function(e){return e>0?"fas fa-chevron-circle-up":0==e?"fas fa-minus-circle":e<0?"fas fa-chevron-circle-down":void 0}}},oe=ie,le=(n("3a59"),Object(w["a"])(oe,te,ne,!1,null,null,null)),ce=le.exports,ue={name:"TweetGrid",components:{Stats:ce,TweetItem:ee},props:{page:{type:Number,required:!0},tweets:{type:Array,required:!0},stats:{type:Object,required:!0},loadPage:{type:Function,required:!0},open:{type:Boolean,required:!0},mobile:{type:Boolean,required:!0}},computed:{noOfPages:function(){var e=0;return this.stats.count&&(e=Math.ceil(this.stats.count/8)),e>10&&(e=10),e}}},de=ue,fe=(n("763a"),Object(w["a"])(de,M,P,!1,null,null,null)),pe=fe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.stats.count?n("div",{staticClass:"whole-page"},[n("div",{staticClass:"mx-auto text-center",staticStyle:{width:"250px","margin-top":"20vh"}},[n("span",[e._v("\n            "+e._s(e.text)+"\n        ")]),n("br"),n("br")])]):n("div",{staticClass:"d-flex flex-row justify-content-between"},[n("div",{staticClass:"mt-2"},[e.stats.count>0?n("p",{staticClass:"font-weight-bold"},[e._v("Found "+e._s(e.stats.count)+" results in "+e._s(e.stats.time)+" Miliseconds")]):e._e()]),n("div",{staticClass:"mb-2"},[n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-warning dropdown-toggle mx-auto",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n                Sort by\n            ")]),n("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[n("a",{staticClass:"dropdown-item",on:{click:function(t){e.sort("match"),e.loadPage(1)}}},[e._v("Best Match")]),n("a",{staticClass:"dropdown-item",on:{click:function(t){e.sort("lengthDsc"),e.loadPage(1)}}},[e._v("Long to Short")]),n("a",{staticClass:"dropdown-item",on:{click:function(t){e.sort("lengthAsc"),e.loadPage(1)}}},[e._v("Short to Long")])])])])])},me=[],ge={props:{stats:{type:Object,required:!0},sort:{type:Function,required:!0},loadPage:{type:Function,required:!0},text:{type:String,required:!0}}},ve=ge,be=Object(w["a"])(ve,he,me,!1,null,null,null),ye=be.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row",staticStyle:{height:"80px"}},[n("div",{staticClass:"col"},[n("form",{attrs:{action:"#",method:"post"},on:{submit:function(t){return t.preventDefault(),e.load(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:e.query.search},on:{input:[function(t){t.target.composing||e.$set(e.query,"search",t.target.value)},e.load],focus:function(t){e.show=!0},blur:function(t){e.show=!1}}}),e.show?n("small",{staticClass:"form-text text-muted mt-0 mb-1"},[e._v("Avaiable fields are: name, body.\n        For tips on use go to "),e._m(0)]):e._e()]),Object.keys(e.filteredQuery).length>0?n("div",{staticClass:"mb-4"},e._l(Object.keys(e.filteredQuery),function(t){return n("span",{key:t,staticClass:"badge badge-warning mx-2"},[e._v("\n                  "+e._s(t)+": "+e._s(e.filteredQuery[t])+" | \n                      "),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.reset(t)}}},[e._v(" X ")])])}),0):e._e()])])},xe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://lunrjs.com/guides/searching.html#wildcards"}},[n("strong",[e._v("Lunr")])])}],je=n("a4bb"),Ce=n.n(je),ke=(n("ac6a"),{name:"searchBar",data:function(){return{show:!1}},props:{query:{type:Object,required:!0},load:{type:Function,required:!0}},computed:{filteredQuery:function(){var e=this,t={};return Ce()(this.query).forEach(function(n){"personality"==n?e.query[n].forEach(function(e){0===e.val[0]&&100===e.val[1]||(t[e.name]=e.val)}):e.query[n]&&(t[n]=e.query[n])}),0===this.query.age[0]&&100===this.query.age[1]&&delete t.age,t},mobile:function(){return this.windowWidth<800}},methods:{reset:function(e){"age"===e?this.query.age=[0,100]:this.query[e]="",this.load()}}}),_e=ke,Oe=Object(w["a"])(_e,we,xe,!1,null,null,null),Te=Oe.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center mx-auto",staticStyle:{width:"200px","margin-top":"20vh"}},[n("div",[n("pacman-loader",{staticClass:"ml-3",attrs:{loading:e.loading,color:"#ffc107",size:"30px"}}),n("p",{staticClass:"mt-2 text-center",domProps:{innerHTML:e._s(e.text)}})],1)])},qe=[],Ee=n("6746"),Fe={name:"loader",components:{PacmanLoader:Ee["a"]},props:{loading:{type:Boolean,required:!0},text:{type:String,required:!0}}},Me=Fe,Pe=Object(w["a"])(Me,Se,qe,!1,null,null,null),ze=Pe.exports,Ne=n("59ad"),Ae=n.n(Ne),De=(n("b54a"),n("d225")),Be=n("b0b4"),Re=n("bd86"),Le=n("2f21"),Ue=n.n(Le),We=n("9669"),$e=n.n(We);function He(e){return new o.a(function(t){fetch(e).then(function(e){return e.json()}).then(function(e){t(e)})})}var Qe="https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/",Je="search/index",Ke="search/store",Ge={small:".10000.json",medium:".50000.json",large:".100000.json"},Ie=!0,Ve=Ie,Xe=function(){function e(){Object(De["a"])(this,e),Object(Re["a"])(this,"s",void 0)}return Object(Be["a"])(e,null,[{key:"init",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Ve?"search engine init":"search engine not active",console.log(t),Ve){e.next=4;break}return e.abrupt("return");case 4:return console.log("loading indexing..."),e.next=7,He(Qe+Je+Ge.small);case 7:return n=e.sent,this.idx=Ue.a.Index.load(n),console.log("loading store..."),e.next=12,He(Qe+Ke+Ge.small);case 12:a=e.sent,this.store=a,this.average=a.stats,console.log("search engine loaded");case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"search",value:function(e){var t=this,n={twitts:[],time:""},a=new Date;this.idx.search(e).forEach(function(e){var a=e.matchData;n.twitts.push(Object(B["a"])({},t.store[e.ref],{id:e.ref,positions:a,score:e.score}))});var s=new Date-a;return n.time=s,n.average=this.average,console.log("Found "+n.twitts.length+" results in "+s+" Miliseconds"),n}},{key:"load",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,a,s,r,i,l,c,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),n={},!t.preloaded){e.next=31;break}return t.preloaded=Ye(t.preloaded),e.next=6,new o.a(function(e){return setTimeout(e,1e3)});case 6:return console.log("Loading store..."),e.next=9,He(Qe+Ke+Ge[t.preloaded]);case 9:if(a=e.sent,!(t.dynamic.length>0)){e.next=22;break}return console.log("Loading tweets..."),n={profiles:t.dynamic,showRetweets:!1,showEmpty:!1,noOfTweets:100},e.next=15,$e()(n);case 15:for(i in s=e.sent,console.log("Pulled in: "+s[Ce()(s)[0]].length+" tweets"),r=s,a)l=a[i],"stats"!=i&&(c=r[l.username]?r[l.username]:[],c.push({author:{username:l.user.username,name:l.user.name,link:l.user.profile,img:l.user.photo,gender:l.user.gender,age:l.user.age,personality:l.user.personality},id:i,time:l.time,link:l.link,body:l.body,gender:l.gender,age:l.age,personality:l.personality}),r[l.username]=c);return e.abrupt("return",r);case 22:return console.log("Loading indexing..."),e.next=25,He(Qe+Je+Ge[t.preloaded]);case 25:return u=e.sent,this.idx=Ue.a.Index.load(u),this.store=a,e.abrupt("return",!1);case 29:e.next=36;break;case 31:return n={profiles:t.dynamic,showRetweets:!1,showEmpty:!1,noOfTweets:100},e.next=34,$e()(n);case 34:return d=e.sent,e.abrupt("return",d);case 36:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"index",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,n){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Indexing ".concat(Ce()(t).length," users")),a={},s=Ue()(function(){var e=this;for(var n in this.ref("id"),this.field("body"),this.field("name"),this.metadataWhitelist=["position"],t){var s=t[n];s.forEach(function(t){e.add({id:t.id,body:t.body,name:t.author.name}),t.author||console.log(t),a[t.id]={time:t.time,link:t.link,body:t.body,age:t.age,gender:t.gender,user:{username:t.author.username,name:t.author.name,profile:t.author.link,photo:t.author.img,gender:t.author.gender,age:t.author.age,personality:{conscientiousness:t.author.personality.conscientiousness,neuroticism:t.author.personality.neuroticism,extraversion:t.author.personality.extraversion,agreeableness:t.author.personality.agreeableness,openess:t.author.personality.openess}}}},this)}}),n&&(this.idx=s,this.store=a),e.abrupt("return",{store:a,index:s});case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getStats",value:function(e){var t=[],n=0,a=0,s=0,r={conscientiousness:0,neuroticism:0,extraversion:0,agreeableness:0,openess:0};for(var i in e)if(!t.includes(e[i].user.username)){var o=e[i].user;t.push(o.username),"0"!==o.gender&&0!==o.gender||n++,"0"===o.age||0===o.age?a++:"1"!==o.age&&1!==o.age||s++,r.conscientiousness+=Ae()(o.personality.conscientiousness),r.neuroticism+=Ae()(o.personality.neuroticism),r.extraversion+=Ae()(o.personality.extraversion),r.agreeableness+=Ae()(o.personality.agreeableness),r.openess+=Ae()(o.personality.openess)}var l=t.length;for(var c in r)r[c]=Math.floor(r[c]/l*100);var u={gender:{male:n,female:t.length-n},age:{young:a,adult:s,senior:t.length-a-s},personality:r};return u}}]),e}();function Ye(e){switch(e){case 10:return"small";case 50:return"medium";case 100:return"large"}}Object(Re["a"])(Xe,"idx",void 0),Object(Re["a"])(Xe,"store",void 0),Object(Re["a"])(Xe,"average",void 0);var Ze=n("5118");function et(e,t){var n=e.metadata,a={};for(var s in n){var r=function(e){a[e]=[],n[s][e].position.forEach(function(t){a[e].push(t)})};for(var i in n[s])r(i)}var o=function(e){l=0,a[e].sort(function(e,t){return e[0]-t[0]}).forEach(function(n){var a=t[e];a&&(t[e]=a.slice(0,n[0]+l)+"<mark>"+a.slice(n[0]+l,n[0]+n[1]+l)+"</mark>"+a.slice(n[0]+n[1]+l),l+=13)})};for(var i in a){var l;o(i)}return t}n("6c7b"),n("a481");var tt=n("2dd5"),nt=n.n(tt),at={UNK:1,e:2,t:3,o:4,a:5,i:6,n:7,s:8,r:9,l:10,h:11,d:12,u:13,m:14,c:15,y:16,g:17,w:18,p:19,f:20,b:21,k:22,"@":23,v:24,"~":25,"#":26,j:27,1:28,x:29,0:30,2:31,z:32,3:33,4:34,q:35,5:36,9:37,8:38,6:39,7:40},st=n("0b53"),rt=41,it=10,ot=10,lt=/http\S+|www.\S+/g,ct=/@\S+/g,ut=/[^0-9a-z #@~]/g,dt=/ +/g,ft=0,pt=1,ht=2,mt=.53,gt=.63,vt=.43,bt=.68,yt=.48,wt=.61,xt=.48,jt=.59,Ct=.48,kt=.65,_t=function(){function e(){Object(De["a"])(this,e)}return Object(Be["a"])(e,null,[{key:"init",value:function(e){var t=this;return console.log("ai engine init"),new o.a(function(n){console.log("loading data..."),t.processed=Ot(e),n(e)})}},{key:"predictOpenness",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/openness_model/model.json").then(function(s){var r=function(r){console.log("predicting openness for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return(e[0]-Ct)/(kt-Ct)});a=a.map(function(e){return e>1?1:e<0?0:e});var s=0;a.forEach(function(e){return s+=e});var i=s/a.length,o=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.personality||(e.author.personality={}),e.personality||(e.personality={}),e.author.personality.openess=i,e.personality.openess=a[o++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictConscientiousness",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/conscientiousness_model/model.json").then(function(s){var r=function(r){console.log("predicting conscientiousness for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return(e[0]-xt)/(jt-xt)});a=a.map(function(e){return e>1?1:e<0?0:e});var s=0;a.forEach(function(e){return s+=e});var i=s/a.length,o=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.personality||(e.author.personality={}),e.personality||(e.personality={}),e.author.personality.conscientiousness=i,e.personality.conscientiousness=a[o++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictAgreeableness",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/agreeableness_model/model.json").then(function(s){var r=function(r){console.log("predicting agreeableness for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return(e[0]-yt)/(wt-yt)});a=a.map(function(e){return e>1?1:e<0?0:e});var s=0;a.forEach(function(e){return s+=e});var i=s/a.length,o=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.personality||(e.author.personality={}),e.personality||(e.personality={}),e.author.personality.agreeableness=i,e.personality.agreeableness=a[o++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictStability",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/stability_model/model.json").then(function(s){var r=function(r){console.log("predicting stability for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return(e[0]-vt)/(bt-vt)});a=a.map(function(e){return e>1?1:e<0?0:e});var s=0;a.forEach(function(e){return s+=e});var i=s/a.length,o=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.personality||(e.author.personality={}),e.personality||(e.personality={}),e.author.personality.neuroticism=i,e.personality.neuroticism=a[o++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictExtraversion",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/extroversion_model/model.json").then(function(s){var r=function(r){console.log("predicting extraversion for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return(e[0]-mt)/(gt-mt)});a=a.map(function(e){return e>1?1:e<0?0:e});var s=0;a.forEach(function(e){return s+=e});var i=s/a.length,o=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.personality||(e.author.personality={}),e.personality||(e.personality={}),e.author.personality.extraversion=i,e.personality.extraversion=a[o++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictAge",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/age_model/model.json").then(function(s){var r=function(r){console.log("predicting age for user "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a,s=t.map(function(e){return e.map(function(e,t){return[e,t]}).reduce(function(e,t){return t[0]>e[0]?t:e})[1]}),i=t.map(function(e){var t=e.reduce(function(e,t){return e+t}),n=e.map(function(e){return Math.floor(100*e/t)});return{young:n[0],adult:n[1],senior:n[2]}}),o=0,l=0,c=0;s.forEach(function(e){e==ft?o++:e==pt?l++:e==ht&&c++}),a=o>=l&&o>=c?ft:l>+c?pt:ht;var u=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.age=a,e.age=i[u++]}),console.log(e),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}},{key:"predictGender",value:function(e){var t=this;return new o.a(function(n,a){st["a"]("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/server/ai/gender_model/model.json").then(function(s){var r=function(r){console.log("predicting gender for "+r);var i=s.predict(t.processed[r]);i.array().then(function(t){var a=t.map(function(e){return e[0]}),s=t.map(function(e){return Math.floor(100*e[0])}),i=0;a.forEach(function(e){return i+=e});var o=i/a.length<.5?0:1,l=0;e[r].forEach(function(e){e.author||(e.author={}),e.author.gender=o,e.gender=s[l++]}),n(e)}).catch(function(e){console.log("Failed exporting the predictions to an array"),a(e)})};for(var i in t.processed)r(i)}).catch(function(e){console.log("Failed loading the model"),a(e)})})}}]),e}();function Ot(e){console.log("preprocessing...");var t={};for(var n in e){var a=e[n];a[0].gender&&a[0].age&&a[0].personality||(t[n]=a.map(function(e){return e=e.body,e=e.toLowerCase(),e=e.replace(lt,"~"),e=e.replace(ct,"@"),e=nt()(e),e=e.replace(ut,""),e=e.replace(dt," "),e=Tt(e),e}),t[n]=st["c"](t[n]))}return console.log("predicting "+Ce()(t).length+" users"),t}function Tt(e){for(var t=e.split(" "),n=[],a=0;a<it;a++){var s;if(a<t.length){var r=t[a].split("");r=r.map(function(e){return at[e]?at[e]:at["UNK"]}),r.length<ot?r=r.concat(new Array(ot-r.length).fill(0)):r.length>ot&&(r=r.slice(0,ot)),s=st["b"](r,rt)}else{var i=new Array(ot).fill(0);s=st["b"](i,rt)}n.push(s)}return st["c"](n)}Object(Re["a"])(_t,"processed",void 0);var St={name:"app",components:{Sidebar:F,TweetGrid:pe,SearchSummary:ye,SearchBar:Te,Loader:ze},data:function(){return{msg:_,sidebarOpen:!1,searchQuery:{search:"",gender:"",age:[0,100],personality:[{name:"Conscientiousness",val:[0,100]},{name:"Neuroticism",val:[0,100]},{name:"Extraversion",val:[0,100]},{name:"Agreeableness",val:[0,100]},{name:"Openess",val:[0,100]}]},dataConfig:{preloaded:"asdfasdfasdfafds",dynamic:[]},pending:!1,loadingText:_.load.work,pageText:_.hello,page:1,twitts:[],stats:{count:0,time:0},windowWidth:window.innerWidth}},params:{searchQuery:Object,sidebarOpen:Boolean},computed:{info:function(){var e={};return this.twitts&&(e.count=this.twitts.length),this.twitts.time&&(e.time=this.twitts.time),e},displayedTwitts:function(){if(!this.twitts)return[];for(var e=[],t=8*(this.page-1);t<8*this.page;t++)this.twitts[t]&&e.push(this.twitts[t]);return e.map(function(e){return et(e.positions,e)})},mobile:function(){return this.windowWidth<800}},mounted:function(){var e=this;this.start(_.load.search),this.$nextTick(function(){Object(Ze["setTimeout"])(function(){Xe.init().then(function(){e.pending=!1})},1),window.addEventListener("resize",function(){e.windowWidth=window.innerWidth})})},methods:{updatePreloaded:function(e){this.dataConfig.preloaded=e},setSidebarOpen:function(e){this.sidebarOpen=e},sortBy:function(e){switch(e){case"match":this.twitts.twitts.sort(function(e,t){return t.score-e.score});break;case"lengthDsc":this.twitts.twitts.sort(function(e,t){return t.body.length-e.body.length});break;case"lengthAsc":this.twitts.twitts.sort(function(e,t){return e.body.length-t.body.length});break;default:break}},searchForTweets:function(){var e=this;this.start(),Object(Ze["setTimeout"])(function(){if(!e.searchQuery.search)return e.pageText=_.search,e.twitts=[],void(e.pending=!1);var t=Xe.search(e.searchQuery.search),n=e.searchQuery,a=n.age,s=n.gender;s=s.toLowerCase();var r=t.twitts;s&&(r=r.filter(function(e){return e.gender===s})),0===a[0]&&100===a[1]||(r=r.filter(function(e){return e.age>=a[0]&&e.age<=a[1]})),r.slice(0,1e4),e.twitts=r,e.stats.count=t.twitts.length,e.stats.time=t.time,e.stats.average=t.average,e.stats.search=Xe.getStats(t.twitts),e.page=1,0===t.twitts.length&&(e.pageText=_.error),e.pending=!1},100)},loadPage:function(e){e-1<1&&(e=1),e+1>10&&(e=10),this.page=e},loadData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.start("Fetching your tweets..."),e.next=3,new o.a(function(e){return Object(Ze["setTimeout"])(e,10)});case 3:return e.next=5,Xe.load(this.dataConfig);case 5:if(t=e.sent,"undefined"!=typeof t&&t){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,new o.a(function(e){return Object(Ze["setTimeout"])(e,1e3)});case 10:return this.start(_.load.ai+"<br>Feedback in console"),e.next=13,_t.init(t);case 13:return t=e.sent,this.loadingText="Waking up the AI ✔️<br>Predicting age...",e.next=17,_t.predictAge(t);case 17:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Predicting gender...",e.next=21,_t.predictGender(t);case 21:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Predicting personality...<br>Conscientiousness...",e.next=25,_t.predictConscientiousness(t);case 25:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Openess...",e.next=29,_t.predictOpenness(t);case 29:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Agreeableness...",e.next=33,_t.predictAgreeableness(t);case 33:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Neuroticism...",e.next=37,_t.predictStability(t);case 37:return t=e.sent,this.loadingText=this.loadingText+"✔️<br>Extraversion...",e.next=41,_t.predictExtraversion(t);case 41:return t=e.sent,this.loadingText=this.loadingText+" ✔️<br>Indexing your tweets...",e.next=45,new o.a(function(e){return Object(Ze["setTimeout"])(e,1e3)});case 45:Xe.index(t,!0),this.loadingText="Quering the store...",this.cleanSeach(),n=Xe.search(this.searchQuery.search),this.twitts=n.twitts,this.stats.count=n.twitts.length,this.stats.time=n.time,this.stats.average=n.average,this.stats.search=Xe.getStats(n.twitts),this.page=1,this.pending=!1;case 56:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),start:function(e){this.pending=!0,this.sidebarOpen=!1;var t=e||_.load.work;this.loadingText=t},cleanSeach:function(){this.searchQuery={search:"",gender:"",age:[0,100],personality:[{name:"Conscientiousness",val:[0,100]},{name:"Neuroticism",val:[0,100]},{name:"Extraversion",val:[0,100]},{name:"Agreeableness",val:[0,100]},{name:"Openess",val:[0,100]}]}}}},qt=St,Et=(n("034f"),Object(w["a"])(qt,s,r,!1,null,null,null)),Ft=Et.exports,Mt=(n("4989"),n("ab8b"),n("3222")),Pt=n.n(Mt),zt=(n("cfbd6"),n("fe56")),Nt=n("a2df"),At=n.n(Nt);a["default"].use(Pt.a),a["default"].use(zt["a"]),a["default"].use(At.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(Ft)}}).$mount("#app")},"5ae7":function(e,t,n){},6:function(e,t){},"642f":function(e,t,n){},"64a9":function(e,t,n){},7:function(e,t){},"763a":function(e,t,n){"use strict";var a=n("5ae7"),s=n.n(a);s.a},8:function(e,t){},"8fba":function(e,t,n){n("28a5");var a=n("795b"),s=n("cfae"),r=n("2445"),i=n("53bb"),o=function(e){this.noOfTweets=e.noOfTweets,this.url=e.url,this.extractor=new s(e),e.browser?(this.fetch=i.fetch,window.__twttr=i):this.fetch=r};function l(e,t){var n=e.split("&");return"max_position"===n[n.length-1].slice(0,12)&&(e=e.slice(0,e.length-(n[n.length-1].length+1))),e+="&max_position="+t,e}o.prototype.getTweets=function(e){var t=this;return new a(function(n,a){e.length>=t.noOfTweets?n(e):t.fetch(t.url).then(function(a){if(!a.body)return console.log("Failed a request! Url: "+t.url),void n(e);var s=t.extractor.extract(a.body);0!==s.length?(e=e.concat(s),t.url=l(t.url,a.headers.minPosition),t.getTweets(e).then(function(e){n(e)}).catch(function(a){console.log("Couldn't extract from: "+t.url+"\n"+a),n(e)})):n(e)})})},e.exports=o},9279:function(e,t,n){e.exports=n.p+"img/logo-black.83defbb4.png"},9669:function(e,t,n){n("ac6a");var a=n("795b"),s=n("8fba"),r=n("e2a0");function i(e){return new a(function(t,n){var a={};e.profiles.forEach(function(i){var l=r.getConfig(e);l.profile=i,l.url=r.getUrl(l),l.url||n(new Error("Invalid configuration!"));var c=new s(l),u=[];c.getTweets(u).then(function(n){a[i]=n.slice(0,l.noOfTweets),o(e,a)&&t(a)})})})}function o(e,t){var n=!0;return e.profiles.forEach(function(e){t[e]||(n=!1)}),n}"undefined"!==typeof window&&(window.extract=i),e.exports=i},bcf2:function(e,t,n){},cfae:function(e,t,n){n("7514");var a=n("02cc"),s=function(e){this.showAuthor=e.showAuthor,this.showRetweets=e.showRetweets,this.showMedia=e.showMedia,this.showEmpty=e.showEmpty};s.prototype.extract=function(e){var t=a.load(e),n=[],s=this;return t.root().find(".timeline-Tweet").map(function(e,a){var r={};if(t(this).find(".timeline-Tweet-retweetCredit").length>0?r.isRetweet=!0:r.isRetweet=!1,!r.isRetweet||r.isRetweet&&s.showRetweets){if(r.id=t(this).attr("data-tweet-id"),r.body=t(this).find(".timeline-Tweet-text").text(),r.time=t(this).find(".dt-updated").text().slice(6),r.timestamp=t(this).find(".dt-updated").attr("datetime"),r.link=t(this).find(".timeline-Tweet-timestamp").attr("href"),s.showAuthor){var i=t(this).find(".timeline-Tweet-author");r.author={},r.author.name=i.find(".TweetAuthor-name").text(),r.author.username=i.find(".TweetAuthor-screenName ").text(),r.author.link=i.find(".TweetAuthor-link").attr("href"),r.author.img=i.find(".Avatar").attr("data-src-2x")}if(s.showMedia){var o=t(this).find(".timeline-Tweet-media");o.hasClass("timeline-Tweet-media")&&(r.media=[],o.find("img").map(function(e,n){t(this).attr("data-image")&&r.media.push(t(this).attr("data-image")+"?format=jpg&name=large")}),0===r.media.length&&delete r.media)}(r.body||s.showEmpty)&&n.push(r)}}),n},e.exports=s},d939:function(e,t,n){e.exports=n.p+"img/logo-white.414824de.png"},dc9f:function(e,t,n){},e2a0:function(e,t){var n="https://syndication.twitter.com/timeline/",a="?callback=__twttr.callback&dnt=false&suppress_response_codes=true&rnd="+Math.random();function s(e){var t={};return t.showAuthor="undefined"===typeof e.showAuthor||e.showAuthor,t.showRetweets="undefined"===typeof e.showRetweets||e.showRetweets,t.showMedia="undefined"===typeof e.showMedia||e.showMedia,t.showEmpty="undefined"===typeof e.showEmpty||e.showEmpty,t.noOfTweets=e.noOfTweets?e.noOfTweets:20,t.browser="undefined"!==typeof window,t.lang=e.lang?e.lang:"en",t}function r(e){var t="";return e.profile&&(t=i(e)),e.likes&&(t=o(e)),e.list&&(t=l(e)),t}function i(e){return n+"profile"+a+"&screen_name="+e.profile+"&lang="+e.lang}function o(e){return n+"likes"+a+"&screen_name="+e.profile+"&lang="+e.lang}function l(e){return n+"list"+a+"&screen_name="+e.profile+"&list_slug="+e.list+"&lang="+e.lang}e.exports={getConfig:s,getUrl:r}}});
//# sourceMappingURL=app.8c4c8f77.js.map